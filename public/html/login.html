<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BBCC Templet - Login</title>
    <link rel="stylesheet" href="../css/style.css">  <!-- Yeh CSS file ko link karta hai for glassmorphism styles. -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.0/socket.io.js"></script>  <!-- Yeh Socket.io client library load karta hai for real-time features. -->
    <script src="../js/client.js" defer></script>  <!-- Yeh custom JS file ko load karta hai for login logic. -->
</head>
<body class="dark-mode">  <!-- Default dark mode class for modern look. -->
    <header class="glass-header">  <!-- Yeh header glassmorphism effect ke saath hai. -->
        <h1>BBCC Education Management System</h1>
        <button id="dark-mode-toggle" class="toggle-btn">Toggle Light Mode</button>  <!-- Yeh button dark/light mode switch karta hai with smooth animation. -->
    </header>
    <main class="glass-container">  <!-- Yeh main container glassmorphism aur blur effect ke saath hai. -->
        <div class="login-form">
            <h2>Login</h2>
            <form id="loginForm">
                <label for="role">Select Role:</label>
                <select id="role" name="role" required>
                    <option value="admin">Admin</option>
                    <option value="teacher">Teacher</option>
                    <option value="student">Student</option>
                </select>  <!-- Yeh dropdown role select karta hai. -->
                <label for="username">Username:</label>
                <input type="text" id="username" name="username" required>
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" required>
                <button type="submit" class="btn-primary">Login</button>  <!-- Yeh button form submit karta hai with animation. -->
            </form>
            <p id="message"></p>  <!-- Yeh message display karta hai for success/error. -->
        </div>
    </main>
    <script>
        // Yeh script login form handle karta hai aur role-based redirect karta hai.
        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const role = document.getElementById('role').value;
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            // Yeh fetch call backend ko login request bhejta hai.
            const response = await fetch('/login', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ role, username, password })
            });
            const data = await response.json();
            if (data.success) {
                // Yeh role ke basis par redirect karta hai.
                if (role === 'admin') window.location.href = 'admin-dashboard.html';
                else if (role === 'teacher') window.location.href = 'teacher-dashboard.html';
                else window.location.href = 'student-dashboard.html';
            } else {
                document.getElementById('message').textContent = 'Invalid credentials!';
            }
        });
        // Yeh dark mode toggle handle karta hai.
        document.getElementById('dark-mode-toggle').addEventListener('click', () => {
            document.body.classList.toggle('light-mode');
            document.body.classList.toggle('dark-mode');
        });
    </script>
</body>
</html>